# 面试题

## 1. 基础概念与选择器
- **CSS 优先级规则是什么？如何计算？**
  - 这里考察你对选择器的优先级、`!important` 的使用等是否熟悉。
  
- **解释一下 CSS 盒模型（Box Model）。内容、填充（padding）、边框（border）和外边距（margin）是如何协同工作的？**
  - 这是非常基础的问题，但面试官可能会进一步问，如何通过 `box-sizing` 改变默认盒模型行为。

- **解释 CSS 中伪类（pseudo-classes）和伪元素（pseudo-elements）的区别，并举一些例子。**
  - 伪类如 `:hover`，伪元素如 `::before`，考察你对细节的理解。

## 2. 布局与响应式设计
- **解释 Flexbox 与 Grid 布局系统的不同之处，什么时候选择使用其中一个？**
  - 考察你对现代布局模型的熟悉度，并可能要求你在白板上写出如何实现一个特定的布局。

- **如何使用媒体查询（media queries）实现响应式设计？请举例说明。**
  - 这里可能会要求你写出一段代码，展示如何针对不同设备屏幕大小调整布局。

- **如何实现一个两列布局，左侧固定宽度，右侧自适应？**
  - 这个问题可能要求你使用 Flexbox、Grid 或者其他方法。

## 3. 动画与过渡
- **CSS 动画和过渡（transition）之间有什么区别？**
  - 这里考察你对两者的定义和用法的理解。

- **如何使用 `@keyframes` 创建一个循环的动画？**
  - 要求你写出一段使用 `@keyframes` 的代码，并解释动画属性如何工作。

- **动画性能优化有哪些注意事项？**
  - 面试官可能会进一步问如何优化动画的性能，例如使用 `transform` 和 `opacity` 而不是 `top` 或 `left`。

## 4. 深入理解与优化
- **解释 CSS 阻塞渲染的概念以及如何减少阻塞？**
  - 这里考察你对 CSS 如何影响页面加载的理解，是否知道 `async` 或 `defer` 加载方式等。

- **你如何处理在不同浏览器下 CSS 兼容性问题？**
  - 考察你对浏览器前缀、Polyfill 等兼容性问题解决方案的掌握。

- **解释 BEM（Block, Element, Modifier）命名规范以及它的好处。**
  - 如果你熟悉 CSS 模块化和可维护性，会有更高加分。

## 5. 高级主题与技术实践
- **你是如何组织和架构大型项目中的 CSS 的？是否使用过 CSS 预处理器如 Sass 或 Less？**
  - 这里考察你对 CSS 组织结构的理解，是否有经验处理大型应用中的样式管理。

- **CSS 中的变量（custom properties）是如何使用的？相比预处理器中的变量，它们有什么优势？**
  - 变量的动态性、作用域和与 JavaScript 的交互可能是考察的重点。

- **你在实际项目中是如何处理 CSS 文件的体积过大问题的？**
  - 考察你是否熟悉 CSS 文件的拆分、懒加载、代码压缩等优化方法。

## h5移动端优化
在 H5 移动端优化 CSS 动画时，需要特别关注性能和资源消耗，以确保动画流畅、响应及时并且不会对电池寿命或用户体验产生负面影响。以下是一些优化 CSS 动画的具体技巧和策略：

### 1. **使用硬件加速**
硬件加速可以利用设备的 GPU 来渲染动画，减轻 CPU 的负担。以下属性通常会触发 GPU 硬件加速：
- `transform`：例如 `translate`、`scale`、`rotate` 等。
- `opacity`：更改元素的不透明度。
  
避免使用会引起重排（reflow）和重绘（repaint）的属性，如 `left`、`top`、`width`、`height`，因为这些属性修改会导致整个页面重新布局，增加动画的开销。

```css
/* 推荐使用 transform */
element {
  transform: translate3d(0, 0, 0);
  will-change: transform, opacity; /* 提示浏览器优化这些属性 */
}
```

### 2. **使用 `will-change` 提前告知浏览器优化**
`will-change` 可以提前通知浏览器哪些属性即将发生变化，从而让浏览器做好优化准备。对于复杂动画或大规模使用的动画，建议为 `transform` 和 `opacity` 属性设置 `will-change`。

```css
element {
  will-change: transform, opacity;
}
```

**注意**：虽然 `will-change` 可以提高性能，但不要滥用，因为它会占用更多的系统资源。

### 3. **避免使用高成本的 CSS 属性**
某些 CSS 属性会导致浏览器重新计算布局或重新绘制页面，尤其在移动设备上消耗更高的性能。尽量避免在动画中使用以下属性：
- `width` / `height`
- `left` / `right` / `top` / `bottom`
- `margin` / `padding`
  
这些属性的变化会触发浏览器的**重排**，影响页面整体性能，建议使用 `transform` 替代，例如用 `translate` 代替 `left` 或 `top` 的改变。

### 4. **控制动画的频率和时长**
移动设备的性能相对较弱，因此动画的频率和时长也需要控制：
- **帧率（FPS）**：理想情况下保持在 60 FPS（每秒 60 帧），以保证流畅的用户体验。如果帧率低于 30 FPS，动画可能会出现卡顿。
- **时长**：避免过长的动画时长，合理的动画时间通常为 300ms 到 500ms。如果动画时长太长，可能会给用户带来迟缓的感受。

```css
element {
  transition: transform 0.3s ease-in-out;
}
```

### 5. **减少动画帧数和复杂度**
复杂的动画会增加设备的计算负担。优化时应考虑：
- 减少动画过程中需要绘制的帧数。例如，简化动画步骤，或者尽可能使用 CSS 动画而不是 JavaScript 来驱动动画。
- 避免在同一时间内对多个复杂的元素执行动画，尤其是在页面滚动时。

### 6. **CSS 动画优先于 JavaScript 动画**
尽量使用纯 CSS 来实现动画，因为 CSS 动画运行在浏览器的合成线程上，而 JavaScript 动画会占用主线程（main thread），可能导致页面响应性下降。

```css
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

element {
  animation: fadeIn 0.5s ease-in-out;
}
```

### 7. **延迟非关键动画的执行**
避免在页面加载时立即执行所有动画。可以使用延迟或滚动事件等机制，等页面完成加载或用户与页面交互时才执行动画，以防页面加载时卡顿。

```css
element {
  animation-delay: 1s; /* 延迟1秒执行动画 */
}
```

### 8. **使用 CSS 动画合成技术**
合成技术指的是在移动端设备中，尽量使用只影响合成层的动画属性（如 `transform` 和 `opacity`）。合成层的变化不需要重新布局或重绘，因此性能更好。

### 9. **避免动画与滚动冲突**
在移动设备上，滚动会占用很多资源，如果动画和滚动事件同时发生，可能会导致卡顿。可以在滚动结束后再触发动画，或者延迟执行动画。

### 10. **使用 `requestAnimationFrame` 优化 JavaScript 动画**
如果必须使用 JavaScript 驱动动画，使用 `requestAnimationFrame` 以便与浏览器的刷新频率同步，避免不必要的重绘。

```javascript
function animate() {
  // 动画逻辑
  window.requestAnimationFrame(animate);
}
window.requestAnimationFrame(animate);
```

---

通过这些优化技术，你可以在 H5 移动端有效提升 CSS 动画的流畅性和性能，确保用户体验流畅，减少卡顿和延迟的出现。